function getMap(){var e=addresses.address,t=addresses.latitude,a=addresses.longitude,s=addresses.googleMapsLink,r=new google.maps.LatLng(t,a),i=r;google.maps.Map.prototype.setCenterWithOffset=function(e,t,a){var s=this,r=new google.maps.OverlayView;r.onAdd=function(){var r=this.getProjection(),i=r.fromLatLngToContainerPixel(e);i.x=i.x+t,i.y=i.y+a,s.setCenter(r.fromContainerPixelToLatLng(i))},r.draw=function(){},r.setMap(this)};var l={zoom:parseInt(mw_map_vars.zoom),minZoom:0,maxZoom:20,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_TOP},center:r,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,panControl:!1,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,rotateControl:!1},o=new google.maps.Map(document.getElementById("map-wrapper"),l);if(google.maps.event.addDomListener(window,"resize",function(){o.setCenter(i)}),"custom"==pinOrCustom)var n=new google.maps.MarkerImage(""+pinImage,null,null,null,new google.maps.Size(parseInt(mw_map_vars.markerWidth),parseInt(mw_map_vars.markerHeight)));else var n=new google.maps.MarkerImage(pluginUrl+"/image/map-marker.png",null,null,null,new google.maps.Size(46,71));var p=new google.maps.Marker({position:r,icon:n,map:o,title:"Click to view in Google Maps"});if("radius"==mapMarker){p.setVisible(!1),radiusCalc=mile*radius;var y=new google.maps.Circle({map:o,radius:radiusCalc,fillColor:"#a54fee",strokeColor:"#CD0000",strokeOpacity:0});y.bindTo("center",p,"position")}var m=new google.maps.InfoWindow({content:"<h3>"+addressName+'</h3><p class="map-address">'+e+'</p><p><a target="_blank" href="'+s+'"> View on Google Maps</a></p>'});if("show"==mw_map_vars.showInfoWindow?(m.open(o,p),google.maps.event.addListener(p,"click",function(){m.open(o,p)}),o.setCenterWithOffset(i,0,-110),google.maps.event.addDomListener(window,"resize",function(){o.setCenterWithOffset(i,0,-110)})):google.maps.event.addListener(p,"click",function(){m.open(o,p)}),"colourful"===mapStyle)var f=[{featureType:"road",elementType:"labels",stylers:[{visibility:"simplified"},{lightness:20}]},{featureType:"administrative.land_parcel",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{hue:"#a1cdfc"},{saturation:30},{lightness:49}]},{featureType:"road.highway",elementType:"geometry",stylers:[{hue:"#f49935"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{hue:"#fad959"}]}];else if("grey"===mapStyle)var f=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];else if("pale"===mapStyle)var f=[{featureType:"water",stylers:[{visibility:"on"},{color:"#acbcc9"}]},{featureType:"landscape",stylers:[{color:"#f2e5d4"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#e4d7c6"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fbfaf7"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#c5dac6"}]},{featureType:"administrative",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"road"},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{},{featureType:"road",stylers:[{lightness:20}]}];else if("custom"===mapStyle)var f=jQuery.parseJSON(mw_map_vars.customMap);o.setOptions({styles:f})}function getMultiMap(){var e={zoom:parseInt(mw_map_vars.zoom),minZoom:0,maxZoom:20,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_TOP},mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,panControl:!1,panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,rotateControl:!1};if("custom"==pinOrCustom)var t=new google.maps.MarkerImage(""+pinImage,null,null,null,new google.maps.Size(parseInt(mw_map_vars.markerWidth),parseInt(mw_map_vars.markerHeight)));else var t=new google.maps.MarkerImage(pluginUrl+"/image/map-marker.png",null,null,null,new google.maps.Size(46,71));for(var a=new google.maps.Map(document.getElementById("map-wrapper"),e),s=new google.maps.LatLngBounds,r=new google.maps.InfoWindow,i=0;i<addresses.length;i++){var l=new google.maps.Marker({map:a,position:new google.maps.LatLng(addresses[i].latitude,addresses[i].longitude),icon:t});google.maps.event.addListener(l,"click",function(e,t){return function(){var s=addresses[t].name;console.log(s);var r=new google.maps.InfoWindow({content:"<h3>"+s+'</h3><p class="map-address">'+addresses[t].address+'</p><p><a target="_blank" href="'+addresses[t].googleMapsLink+'"> View on Google Maps</a></p>'});r.open(a,e)}}(l,i)),s.extend(l.position)}if(a.fitBounds(s),"colourful"===mapStyle)var o=[{featureType:"road",elementType:"labels",stylers:[{visibility:"simplified"},{lightness:20}]},{featureType:"administrative.land_parcel",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"road.local",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{hue:"#a1cdfc"},{saturation:30},{lightness:49}]},{featureType:"road.highway",elementType:"geometry",stylers:[{hue:"#f49935"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{hue:"#fad959"}]}];else if("grey"===mapStyle)var o=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];else if("pale"===mapStyle)var o=[{featureType:"water",stylers:[{visibility:"on"},{color:"#acbcc9"}]},{featureType:"landscape",stylers:[{color:"#f2e5d4"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#c5c6c6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#e4d7c6"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#fbfaf7"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#c5dac6"}]},{featureType:"administrative",stylers:[{visibility:"on"},{lightness:33}]},{featureType:"road"},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{lightness:20}]},{},{featureType:"road",stylers:[{lightness:20}]}];else if("custom"===mapStyle)var o=jQuery.parseJSON(mw_map_vars.customMap);a.setOptions({styles:o})}var addressName=mw_map_vars.addressName,mapStyle=mw_map_vars.mapStyle,mapMarker=mw_map_vars.mapMarker,pinOrCustom=mw_map_vars.pin,pinImage=mw_map_vars.pinImage,radius=mw_map_vars.radiusDistance,mile=1609.344;pluginUrl=mw_map_vars.pluginUrl,addresses=mw_map_vars.addressArray,jQuery(document).ready(function($){function e(){var e=$("#map-wrapper"),a=$(window).height(),s=e.offset().top,r=$(window).scrollTop(),i=s-a;e.length>0&&parseInt(r)>parseInt(i)&&(t&&addresses.length>1?(getMultiMap(),t=!1):t&&(getMap(),t=!1))}var t=!0;e(),$(window).scroll(function(){e()})});