jQuery(document).ready(function($){function e(e){$.ajax({type:"GET",url:s,dataType:"text",data:{action:"new_business_address",addressName:e},beforeSend:function(){},success:function(e){$(".business_addresses").append(e),$("#new_business_address").val("")},error:function(){}})}function a(e){$.ajax({type:"GET",url:s,data:{action:"delete_business_address",id:e},beforeSend:function(){},success:function(a){$("#"+e).remove()},error:function(){}})}var s=address_ajax_params.ajax_url;$("input.address-name").change(function(){var e=$(this).closest(".address-wrapper"),a=e.attr("id"),s=e.find("input");s.each(function(){var e=$(this).attr("name").replace(a,$("input.address-name").val()).toLowerCase();$(this).attr("name",e.replace(/ /g,"-"))}),$(this).closest(".address-wrapper").attr("id",$(this).val().replace(/ /g,"-").toLowerCase())}),$("body").on("click","#addNewAddress",function(a){a.preventDefault();var s=$(this).parentsUntil("tr").find("input").val();""!=s?e(s):alert("Enter an Address Name First")}),$("body").on("click","#deleteAddress",function(e){e.preventDefault();var s=$(this).closest(".address-wrapper").attr("id");a(s)})});